#
# $FreeBSD$
#
# Build description for FreeBSD, written in the Fabrique language
# (https://fabriquer.github.io).
#

host = import('host.fab');
options = import('options.fab');
path = import('share/fabrique/path.fab');
shell = import('share/fabrique/shell.fab');

target = record
{
	arch = host.platform.architecture;
	name =
		if arch.amd64 'amd64'
		else if arch.i386 'i386'
		else
		{
			print('Unknown architecture:');
			print(arch);
			'unknown'
		};
};

clang = import('share/fabrique/clang.fab', target = target);
tmproot = import('tmproot.fab', target = target);

includes =
[
	file('include')
	file('sys/sys')
	file('sys/' + target.name + '/include')
	file('lib/msun/src')
	tmproot.includedir
];

c = import('share/fabrique/c.fab', includes = includes, target = target);
cxx = import('share/fabrique/cxx.fab', includes = includes, target = target);

libraries = import('lib');
