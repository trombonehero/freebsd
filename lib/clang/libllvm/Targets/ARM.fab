# $FreeBSD$

rules = tblgen.rules('ARM', 'ARM');
generated_headers =
[
	rules.asmMatcher()
	rules.asmWriter()
	rules.callingConv()
	rules.disassembler()
	rules.isel.dag()
	rules.isel.fast()
	rules.isel.global()
	rules.instrInfo()
	rules.mc.emitter()
	rules.mc.pseudoLowering()
	rules.reg.bank()
	rules.reg.info()
	rules.subtarget()
	rules.system.operands()
];

sources =
{
	subdir = llvmlibdir :: 'Target';

	files(
		A15SDOptimizer.cpp ARMAsmPrinter.cpp ARMBaseInstrInfo.cpp
		ARMBaseRegisterInfo.cpp ARMCallLowering.cpp ARMCodeGenPrepare.cpp
		ARMComputeBlockSize.cpp ARMConstantIslandPass.cpp
		ARMConstantPoolValue.cpp ARMExpandPseudoInsts.cpp ARMFastISel.cpp
		ARMFrameLowering.cpp ARMHazardRecognizer.cpp ARMISelDAGToDAG.cpp
		ARMISelLowering.cpp ARMInstrInfo.cpp ARMInstructionSelector.cpp
		ARMLegalizerInfo.cpp ARMLoadStoreOptimizer.cpp ARMMCInstLower.cpp
		ARMMachineFunctionInfo.cpp ARMMacroFusion.cpp
		ARMOptimizeBarriersPass.cpp ARMParallelDSP.cpp ARMRegisterBankInfo.cpp
		ARMRegisterInfo.cpp ARMSelectionDAGInfo.cpp ARMSubtarget.cpp
		ARMTargetMachine.cpp ARMTargetObjectFile.cpp
		ARMTargetTransformInfo.cpp MLxExpansionPass.cpp
		Thumb1FrameLowering.cpp Thumb1InstrInfo.cpp Thumb2ITBlockPass.cpp
		Thumb2InstrInfo.cpp Thumb2SizeReduction.cpp ThumbRegisterInfo.cpp
		,
		subdir = 'ARM'
	)
	+
	{
		subdir = subdir :: 'ARM';

		files(ARMAsmParser.cpp, subdir='AsmParser')
		+ files(ARMDisassembler.cpp, subdir='Disassembler')
		+ files(ARMInstPrinter.cpp, subdir='InstPrinter')
		+ files(
			ARMAsmBackend.cpp ARMELFObjectWriter.cpp ARMELFStreamer.cpp
			ARMMCAsmInfo.cpp ARMMCCodeEmitter.cpp ARMMCExpr.cpp
			ARMMCTargetDesc.cpp ARMMachORelocationInfo.cpp
			ARMMachObjectWriter.cpp ARMTargetStreamer.cpp ARMUnwindOpAsm.cpp
			ARMWinCOFFObjectWriter.cpp ARMWinCOFFStreamer.cpp
			,
			subdir = 'MCTargetDesc'
		)
		+ files(ARMTargetInfo.cpp, subdir='TargetInfo')
		+ files(ARMBaseInfo.cpp, subdir='Utils')
	}
};
